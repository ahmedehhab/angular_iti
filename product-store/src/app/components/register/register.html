<div class="container-fluid bg-light d-flex justify-content-center align-items-center vh-100">
    <div class="card bg-white shadow-sm p-4 border-0" style="max-width: 450px; width: 100%; border-radius: 12px;">
        
        <h2 class="text-center mb-4 fw-bold text-dark">Create Account</h2>

        @if (accountIsReadyRegister) {
            <div class="alert alert-warning border-0 shadow-sm d-flex align-items-center mb-4" role="alert" style="border-radius: 10px;">
                <i class="bi bi-info-circle-fill me-2 fs-5"></i>
                <div>
                    This email is already registered. 
                    <a routerLink="/login" class="fw-bold text-dark text-decoration-underline ms-1">Please login</a>
                </div>
            </div>
        }

        <form [formGroup]="registerForm" (submit)="onSubmit($event)">
            
            <div class="mb-3">
                <label class="form-label text-muted small fw-bold">FULL NAME</label>
                <input 
                    type="text" 
                    formControlName="name" 
                    class="form-control bg-light border-0 py-2 shadow-none"
                    [class.is-invalid]="registerForm.get('name')?.touched && registerForm.get('name')?.invalid"
                    placeholder="John Doe">
                
                @if (registerForm.get('name')?.touched && registerForm.get('name')?.invalid) {
                    <div class="invalid-feedback">Name is required (min 3 chars).</div>
                }
            </div>

            <div class="mb-3">
                <label class="form-label text-muted small fw-bold">EMAIL ADDRESS</label>
                <input 
                    type="email" 
                    formControlName="email" 
                    class="form-control bg-light border-0 py-2 shadow-none"
                    [class.is-invalid]="registerForm.get('email')?.touched && registerForm.get('email')?.invalid"
                    placeholder="name@example.com">
                
                @if (registerForm.get('email')?.touched && registerForm.get('email')?.invalid) {
                    <div class="invalid-feedback">Valid email is required.</div>
                }
            </div>

            <div class="row">
                <div class="col-6 mb-3">
                    <label class="form-label text-muted small fw-bold">PASSWORD</label>
                    <input 
                        type="password" 
                        formControlName="password" 
                        class="form-control bg-light border-0 py-2 shadow-none"
                        [class.is-invalid]="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
                </div>
                <div class="col-6 mb-3">
                    <label class="form-label text-muted small fw-bold">CONFIRM</label>
                    <input 
                        type="password" 
                        formControlName="confirmPassword" 
                        class="form-control bg-light border-0 py-2 shadow-none"
                        [class.is-invalid]="(registerForm.get('confirmPassword')?.touched && registerForm.get('confirmPassword')?.invalid) || (registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched)">
                </div>
            </div>

            @if (registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched) {
                <div class="alert alert-danger border-0 py-2 px-3 d-flex align-items-center mb-3 shadow-none" 
                     style="background-color: #fff5f5; color: #e53e3e; border-radius: 8px; font-size: 0.85rem;">
                    <i class="bi bi-x-circle-fill me-2"></i>
                    <span>Passwords do not match.</span>
                </div>
            }

            <div class="mb-4 form-check">
                <input 
                    type="checkbox" 
                    formControlName="terms" 
                    class="form-check-input shadow-none" 
                    id="terms"
                    [class.is-invalid]="registerForm.get('terms')?.touched && registerForm.get('terms')?.invalid">
                <label class="form-check-label small text-muted" for="terms">
                    I agree to the <span class="text-dark fw-bold">Terms & Conditions</span>
                </label>
                @if (registerForm.get('terms')?.touched && registerForm.get('terms')?.invalid) {
                    <div class="invalid-feedback">You must agree before registering.</div>
                }
            </div>

            <button 
                type="submit" 
                class="btn btn-dark w-100 py-2 fw-bold shadow-sm" 
                [disabled]="registerForm.invalid">
                REGISTER
            </button>

            <div class="text-center mt-4">
                <p class="text-muted small">
                    Already have an account? 
                    <a routerLink="/login" class="text-dark fw-bold text-decoration-none border-bottom border-dark">Login</a>
                </p>
            </div>
        </form>
    </div>
</div>